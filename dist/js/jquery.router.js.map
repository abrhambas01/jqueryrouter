{"version":3,"file":"jquery.router.js","sources":["../../node_modules/jquerydeparam/dist/js/deparam.js","../../src/js/helpers/select.js","../../src/js/jquery.router.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.deparam = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  /**\n   * Deparam plugin\n   * Converts a querystring to a JavaScript object\n   * @project      Deparam plugin\n   * @date         2018-08-18\n   * @author       Sachin Singh <ssingh.300889@gmail.com>\n   * @version      1.1.1\n   */\n  // Vars\n  var isBrowser = typeof window !== \"undefined\";\n  var isNode = typeof global !== \"undefined\"; // Shorthand for built-ins\n\n  var isArr = Array.isArray;\n  /**\n   * Checks if input is a number\n   * @param {*} key \n   */\n\n  function isNumber(key) {\n    key = (key + \"\").trim();\n    if (['null', 'undefined', ''].indexOf(key) > -1) return false;\n    return !isNaN(Number(key));\n  }\n  /**\n   * Checks if key is a true object\n   * @param {*} key Any type of value\n   */\n\n\n  function isObject(key) {\n    return key != null && !isArr(key) && key.toString() === \"[object Object]\";\n  }\n  /**\n   * Checks if query parameter key is a complex notation\n   * @param {string} q \n   */\n\n\n  function ifComplex(q) {\n    return /\\[/.test(q);\n  }\n  /**\n   * Converts query string to JavaScript object\n   * @param {string} qs query string argument (defaults to url query string)\n   */\n\n\n  function deparam() {\n    var qs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : isBrowser ? window.location.search : \"\";\n    qs = decodeURIComponent(qs).replace(\"?\", \"\").trim();\n    var queryParamList = qs.split(\"&\");\n    var queryObject = {};\n\n    if (qs) {\n      queryParamList.forEach(function (qq) {\n        var qArr = qq.split(\"=\");\n\n        if (ifComplex.apply(void 0, _toConsumableArray(qArr))) {\n          complex.apply(void 0, _toConsumableArray(qArr).concat([queryObject]));\n        } else {\n          simple(qArr, queryObject);\n        }\n      });\n    }\n\n    return queryObject;\n  }\n  /**\n   * Converts an array to an object\n   * @param {array} arr \n   */\n\n\n  function toObject(arr) {\n    var convertedObj = {};\n\n    if (isArr(arr)) {\n      arr.forEach(function (value, index) {\n        convertedObj[index] = value;\n      });\n    }\n\n    return convertedObj;\n  }\n  /**\n   * Resolves an array to object if required\n   * @param {array} ob An array object\n   * @param {boolean} isNumber flag to test if next key is number\n   */\n\n\n  function resolve(ob, isNextNumber) {\n    if (typeof ob === \"undefined\") return isNextNumber ? [] : {};\n    return isNextNumber ? ob : toObject(ob);\n  }\n  /**\n   * Resolves the target object for next iteration\n   * @param {Object} ob current reference object\n   * @param {string} nextProp reference property in current object\n   */\n\n\n  function resolveObj(ob, nextProp) {\n    if (isObject(ob)) return {\n      ob: ob\n    };\n    if (isArr(ob) || typeof ob === \"undefined\") return {\n      ob: resolve(ob, isNumber(nextProp))\n    };\n    return {\n      ob: [ob],\n      push: ob !== null\n    };\n  }\n  /**\n   * Handles complex query parameters\n   * @param {string} key \n   * @param {string} value \n   * @param {Object} obj \n   */\n\n\n  function complex(key, value, obj) {\n    var match = key.match(/([^\\[]+)\\[([^\\[]*)\\]/) || [];\n\n    if (match.length === 3) {\n      var _match = _slicedToArray(match, 3),\n          prop = _match[1],\n          nextProp = _match[2];\n\n      key = key.replace(/\\[([^\\[]*)\\]/, \"\");\n\n      if (ifComplex(key)) {\n        if (nextProp === \"\") nextProp = \"0\";\n        key = key.replace(/[^\\[]+/, nextProp);\n        complex(key, value, obj[prop] = resolveObj(obj[prop], nextProp).ob);\n      } else if (nextProp) {\n        var _resolveObj = resolveObj(obj[prop], nextProp),\n            ob = _resolveObj.ob,\n            push = _resolveObj.push;\n\n        obj[prop] = ob;\n\n        if (push) {\n          obj[prop].push(_defineProperty({}, nextProp, coerce(value)));\n        } else {\n          obj[prop][nextProp] = coerce(value);\n        }\n      } else {\n        simple([match[1], value], obj, true);\n      }\n    }\n  }\n  /**\n   * Handles simple query\n   * @param {array} qArr \n   * @param {Object} queryObject \n   * @param {boolean} toArray \n   */\n\n\n  function simple(qArr, queryObject, toArray) {\n    var _qArr = _slicedToArray(qArr, 2),\n        key = _qArr[0],\n        value = _qArr[1]; // Convert to appropriate type\n\n\n    value = coerce(value);\n\n    if (key in queryObject) {\n      queryObject[key] = isArr(queryObject[key]) ? queryObject[key] : [queryObject[key]];\n      queryObject[key].push(value);\n    } else {\n      queryObject[key] = toArray ? [value] : value;\n    }\n  }\n  /**\n   * Restores values to their original type\n   * @param {string} value undefined or string value\n   */\n\n\n  function coerce(value) {\n    if (value == null) return \"\";\n    if (typeof value !== \"string\") return value;\n    value = value.trim();\n    if (isNumber(value)) return +value;\n\n    switch (value) {\n      case \"null\":\n        return null;\n\n      case \"undefined\":\n        return undefined;\n\n      case \"true\":\n        return true;\n\n      case \"false\":\n        return false;\n\n      case \"NaN\":\n        return NaN;\n\n      default:\n        return value;\n    }\n  }\n\n  function lib() {\n    return deparam.apply(this, arguments);\n  } // Check if global jQuery object exists, then plug-in deparam function as a static method\n\n\n  if (isBrowser && window.jQuery) {\n    window.jQuery.deparam = lib;\n  }\n\n  if (isNode && global.jQuery) {\n    global.jQuery.deparam = lib;\n  }\n\n  return lib;\n\n})));\n//# sourceMappingURL=deparam.js.map\n","/**\n * Simple selector engine with event handling\n */\n\nfunction isValidNode(el) {\n    return (\n        el instanceof Node\n        || el === window\n    );\n}\n\nfunction isCallable(handler) {\n    return typeof handler === 'function';\n}\n\nfunction getClassList(classSet) {\n    return classSet.split(' ').map(st => !!st.trim());\n}\n\nclass Init {\n    constructor(selector) {\n        this.length = 0;\n        selector = isValidNode(selector) ?\n            [selector]\n            : (\n                selector instanceof NodeList\n                || selector instanceof HTMLCollection\n            ) ?\n                [...selector]\n                : (typeof selector === 'string') ?\n                    [...document.querySelectorAll(selector)]\n                    : (Array.isArray(selector)) ?\n                        selector.map(isValidNode)\n                        : selector instanceof select ? selector.map()\n                            : null;\n        if (selector) {\n            selector.forEach(el => {\n                this[this.length++] = el;\n            });\n        }\n    }\n    each(handler) {\n        for (let i = 0; i < this.length; i++) {\n            if (isCallable(handler)) {\n                const result = handler.apply(this[i], [i, this[i], this]);\n                if (result === true) {\n                    continue;\n                }\n                if (result === false) {\n                    break;\n                }\n            }\n        }\n        return this;\n    }\n    addClass(classNames) {\n        if (typeof classNames === 'string') {\n            let classList = getClassList(classNames);\n            this.each(function () {\n                let currentClassSet = this.getAttribute('class');\n                if (typeof currentClassSet === 'string') {\n                    let currentClassList = getClassList(currentClassSet);\n                    classList.forEach(className => {\n                        if (currentClassList.indexOf(className) === -1) {\n                            currentClassList.push(className);\n                        }\n                    });\n                    this.setAttribute('class', currentClassList.join(' '));\n                } else {\n                    this.setAttribute('class', classList.join(' '));\n                }\n            });\n        }\n        return this;\n    }\n    removeClass(classNames) {\n        if (typeof classNames === 'string') {\n            let classList = getClassList(classNames);\n            let removedCounter = 0;\n            this.each(function () {\n                let currentClassSet = this.getAttribute('class');\n                if (typeof currentClassSet === 'string') {\n                    let currentClassList = getClassList(currentClassSet);\n                    classList.forEach(className => {\n                        let classIndex = currentClassList.indexOf(className);\n                        if (classIndex > -1) {\n                            currentClassList.splice(classIndex, 1);\n                            removedCounter += 1;\n                        }\n                    });\n                    if (removedCounter > 0) {\n                        this.setAttribute('class', currentClassList.join(' '));\n                    }\n                }\n            });\n        }\n        return this;\n    }\n    on(eventName, handler, useCapture) {\n        this.each((i, el) => {\n            el.addEventListener(eventName, function ({ detail }) {\n                let customData = detail && detail.customData ? [...detail.customData] : [];\n                if (isCallable(handler)) {\n                    handler.apply(this, [event, ...customData]);\n                }\n            }, useCapture);\n        });\n        return this;\n    }\n    trigger(eventName, params) {\n        const customEvent = new CustomEvent(eventName, {\n            cancelable: true,\n            bubbles: true,\n            detail: {\n                customData: params\n            }\n        });\n        this.each((i, el) => {\n            el.dispatchEvent(customEvent);\n        });\n        return this;\n    }\n    map() {\n        let map = [];\n        this.each(function () {\n            if (map.indexOf(this) === -1) {\n                map.push(this);\n            }\n        });\n        return map;\n    }\n    add(selector) {\n        const currentSelection = this.map();\n        const newSelection = select(selector);\n        const self = this;\n        newSelection.each(function () {\n            if (currentSelection.indexOf(this) === -1) {\n                self[self.length++] = this;\n            }\n        });\n        return this;\n    }\n    filter(filterArg) {\n        let newSelection = select();\n        if (isCallable(filterArg)) {\n            this.each(function () {\n                if (filterArg(this)) {\n                    newSelection.add(this);\n                }\n            });\n        } else {\n            const matched = select(filterArg).map();\n            this.each(function () {\n                if (matched.indexOf(this) > -1) {\n                    newSelection.add(this);\n                }\n            });\n        }\n        return newSelection;\n    }\n    find(selector) {\n        const children = [];\n        let newSelection = select();\n        this.each(function () {\n            const childrenEach = [...this.childNodes];\n            childrenEach.forEach(child => {\n                if (children.indexOf(child) === -1 && child.nodeType === 1) {\n                    children.push(child);\n                }\n            });\n        });\n        const matched = select(selector).map();\n        matched.forEach(el => {\n            if (children.indexOf(el) > -1) {\n                newSelection.add(el);\n            }\n        });\n        return newSelection;\n    }\n    eq(index) {\n        return select(this[index]);\n    }\n    first() {\n        return this.eq(0);\n    }\n    last() {\n        return this.eq(this.length - 1);\n    }\n    html(htmlText) {\n        if (typeof htmlText === 'undefined') {\n            return this[0].innerHTML;\n        } else if (typeof htmlText === 'string') {\n            this.each(function () {\n                this.innerHTML = htmlText;\n            });\n        }\n    }\n    text(textData) {\n        if (typeof textData === 'undefined') {\n            return this[0].textContent;\n        } else if (typeof textData === 'string') {\n            this.each(function () {\n                this.textContent = textData;\n            });\n        }\n    }\n}\n\nfunction select(selector) {\n    return new Init(selector);\n}\n\nselect.fn = Init.prototype;\n\nexport { select };","/**\n * jQuery router plugin\n * This file contains SPA router methods to handle routing mechanism in single page applications (SPA). Supported versions IE9+, Chrome, Safari, Firefox\n *\n * @project      Jquery Routing Plugin\n * @date         2018-11-25\n * @author       Sachin Singh <ssingh.300889@gmail.com>\n * @dependencies jQuery\n * @version      2.0.0\n */\n\nimport deparam from 'jquerydeparam';\nimport { select as $ } from './helpers/select';\n\n// Object containing a map of attached handlers\nconst libs = {\n    handlers: []\n};\n// Variable to check if browser supports history API properly    \nconst isHistorySupported = history && history.pushState;\n\n// Data cache\nconst cache = {\n    noTrigger: false\n};\n\n// Regular expressions\nconst regex = {\n    pathname: /^\\/(?=[^?]*)/,\n    routeparams: /:[^\\/]+/g,\n    hashQuery: /\\?.+/\n};\n\n// Supported events\nconst eventNames = {\n    routeChanged: \"routeChanged\",\n    hashchange: \"hashchange\",\n    popstate: \"popstate\"\n};\n\n// Error messages\nconst errorMessage = {\n    invalidPath: \"Path is invalid\"\n};\n\n/**\n * Converts any list to JavaScript array\n * @param {array} arr \n */\nfunction _arr(arr) {\n    return Array.prototype.slice.call(arr);\n}\n\n/**\n * Tests if parameter is a valid JavaScript object\n * @param {any} testObject Test object\n */\nfunction _resolveObject(testObject) {\n    if (testObject !== null && typeof testObject === 'object') {\n        return testObject;\n    }\n    return {};\n}\n\n/**\n * Triggers \"routeChanged\" event unless \"noTrigger\" flag is true\n */\nfunction _triggerRoute(route, eventType, isHashRoute = false) {\n    if (\n        cache.noTrigger\n        && eventType === eventNames.hashchange\n    ) {\n        cache.noTrigger = false;\n        return;\n    }\n    cache.data = _resolveObject(cache.data);\n    let ref = cache.data.data = _resolveObject(cache.data.data);\n    let routeOb = {\n        eventType: eventType,\n        hash: !!isHashRoute,\n        route: route\n    };\n    cache.data.data = {\n        ...ref,\n        ...routeOb\n    };\n    router.events.trigger(eventNames.routeChanged, cache.data);\n}\n\n/**\n * Throw JavaScript errors with custom message\n * @param {string} message \n */\nfunction _throwError(message) {\n    throw new Error(message);\n}\n\n/**\n * Checks if given route is valid\n * @param {string} sRoute \n */\nfunction _isValidRoute(sRoute) {\n    if (typeof sRoute !== \"string\") {\n        return false;\n    };\n    return regex.pathname.test(sRoute);\n}\n\n/**\n * Adds a query string\n * @param {string} sRoute \n * @param {string} qString \n * @param {boolean} appendQString \n */\nfunction _resolveQueryString(sRoute, qString, appendQString) {\n    if (!qString && !appendQString) return sRoute;\n    if (typeof qString === \"string\") {\n        if ((qString = qString.trim()) && appendQString) {\n            return sRoute + window.location.search + \"&\" + qString.replace(\"?\", \"\");\n        } else if (qString) {\n            return sRoute + \"?\" + qString.replace(\"?\", \"\");\n        } else {\n            return sRoute;\n        }\n    }\n}\n\n/**\n * Converts current query string into an object\n */\nfunction _getQueryParams() {\n    let qsObject = deparam(window.location.search),\n        hashStringParams = {};\n    if (window.location.hash.match(regex.hashQuery)) {\n        hashStringParams = deparam(window.location.hash.match(regex.hashQuery)[0]);\n    }\n    return {\n        ...qsObject,\n        ...hashStringParams\n    };\n}\n\n/**\n * Checks if route is valid and returns the valid route\n * @param {string} sRoute\n * @param {string} qString\n * @param {boolean} appendQString\n */\nfunction _validateRoute(sRoute, qString, appendQString) {\n    if (_isValidRoute(sRoute)) {\n        return _resolveQueryString(sRoute, qString, appendQString);\n    }\n    _throwError(errorMessage.invalidPath);\n}\n\n/**\n * Set route for given view\n * @param {string|object} oRoute \n * @param {boolean} replaceMode \n * @param {boolean} noTrigger \n */\nfunction _setRoute(oRoute, replaceMode, noTrigger) {\n    if (!oRoute) return;\n    let title = null,\n        sRoute = \"\",\n        qString = \"\",\n        appendQString = false,\n        isHashString = false,\n        routeMethod = replaceMode ? \"replaceState\" : \"pushState\";\n    cache.noTrigger = noTrigger;\n    if (typeof oRoute === \"object\") {\n        cache.data = {\n            data: oRoute.data\n        };\n        title = oRoute.title;\n        sRoute = oRoute.route;\n        qString = oRoute.queryString;\n        appendQString = oRoute.appendQuery;\n    } else if (typeof oRoute === \"string\") {\n        cache.data = {\n            data: {}\n        };\n        sRoute = oRoute;\n    }\n    // Support for hash routes\n    if (sRoute.charAt(0) === \"#\") {\n        isHashString = true;\n        sRoute = sRoute.replace(\"#\", \"\");\n    }\n    if (isHistorySupported && !isHashString) {\n        history[routeMethod](cache.data, title, _validateRoute(sRoute, qString, appendQString));\n        if (!noTrigger) {\n            let routeOb = {\n                eventType: eventNames.popstate,\n                hash: false,\n                route: sRoute\n            };\n            let ref = cache.data.data;\n            cache.data.data = {\n                ...ref,\n                ...routeOb\n            };\n            router.events.trigger(eventNames.routeChanged, cache.data);\n        }\n    } else {\n        if (replaceMode) {\n            window.location.replace(\"#\" + _validateRoute(sRoute, qString, appendQString));\n        } else {\n            window.location.hash = _validateRoute(sRoute, qString, appendQString);\n        }\n    }\n}\n\n/**\n * Attaches a route handler function\n * @param {string} sRoute \n * @param {function} callback \n */\nfunction _route(sRoute, callback) {\n    if (!libs.handlers.filter(ob => (\n        ob.originalHandler === callback\n        && ob.route === sRoute\n        && ob.element === this\n    )).length) {\n        libs.handlers.push({\n            eventName: eventNames.routeChanged,\n            originalHandler: callback,\n            handler: callback.bind(this),\n            element: this,\n            route: sRoute\n        });\n    }\n}\n\n\n/**\n * Trims leading/trailing special characters\n * @param {string} param \n */\nfunction _sanitize(str) {\n    return str.replace(/^([^a-zA-Z0-9]+)|([^a-zA-Z0-9]+)$/g, \"\");\n}\n\n/**\n * Compares route with current URL\n * @param {string} route \n * @param {string} url \n * @param {object} params \n */\nfunction _matched(route, url, params) {\n    if (~url.indexOf(\"?\")) {\n        url = url.substring(0, url.indexOf(\"?\"));\n    }\n    regex.routeparams.lastIndex = 0;\n    if (regex.routeparams.test(route)) {\n        params.params = {};\n        const pathRegex = new RegExp(route.replace(/\\//g, \"\\\\/\").replace(/:[^\\/\\\\]+/g, \"([^\\\\/]+)\"));\n        if (pathRegex.test(url)) {\n            regex.routeparams.lastIndex = 0;\n            let keys = _arr(route.match(regex.routeparams)).map(_sanitize),\n                values = _arr(url.match(pathRegex));\n            values.shift();\n            keys.forEach(function (key, index) {\n                params.params[key] = values[index];\n            });\n            return true;\n        }\n    } else {\n        return ((route === url) || (route === \"*\"));\n    }\n    return false;\n}\n\n/**\n * Triggers a router event\n * @param {string} eventName \n * @param {object} params \n */\nfunction _routeTrigger(eventName, params) {\n    // Ensures that params is always an object\n    params = _resolveObject(params);\n    params.data = _resolveObject(params.data);\n    const isHashRoute = params.data.hash;\n    libs.handlers.forEach(function (eventObject) {\n        if (eventObject.eventName === eventName) {\n            if (isHistorySupported && !isHashRoute && _matched(eventObject.route, window.location.pathname, params)) {\n                eventObject.handler(params.data, params.params, _getQueryParams());\n            } else if (isHashRoute) {\n                if (!window.location.hash && !isHistorySupported && _matched(eventObject.route, window.location.pathname, params)) {\n                    cache.data = params.data;\n                    window.location.replace(\"#\" + window.location.pathname); // <-- This will trigger router handler automatically\n                } else if (_matched(eventObject.route, window.location.hash.substring(1), params)) {\n                    eventObject.handler(params.data, params.params, _getQueryParams());\n                }\n            }\n        }\n    });\n}\n\n/**\n * Initializes router events\n */\nfunction _bindRouterEvents() {\n    $(window).on(eventNames.popstate, function (e) {\n        _triggerRoute.apply(this, [window.location.pathname, e.type]);\n    });\n    $(window).on(eventNames.hashchange, function (e) {\n        _triggerRoute.apply(this, [window.location.hash, e.type, true]);\n    });\n}\n\nconst router = {\n    events: {\n        ...eventNames,\n        trigger(eventName, params) {\n            return _routeTrigger.apply(this, [eventName, params]);\n        }\n    },\n    init: function () {\n        let settings = {\n            eventType: (isHistorySupported ? eventNames.popstate : eventNames.hashchange),\n            hash: !isHistorySupported,\n            route: (isHistorySupported ? window.location.pathname : window.location.hash)\n        };\n        this.events.trigger(eventNames.routeChanged, {\n            data: settings\n        });\n        if (window.location.hash) {\n            $(window).trigger(eventNames.hashchange);\n        }\n    },\n    set() {\n        return _setRoute.apply(this, arguments);\n    },\n    historySupported: isHistorySupported\n}\n\nfunction route() {\n    return _route.apply(this, arguments);\n}\n\n// Adds the router object to jQuery if available\nif (typeof jQuery === 'function' && jQuery.fn) {\n    jQuery.route = jQuery.fn.route = route;\n    jQuery.router = router;\n}\n\n_bindRouterEvents();\n\nexport { router, route };"],"names":["this","global","isValidNode","el","Node","window","isCallable","handler","getClassList","classSet","split","map","st","trim","Init","selector","length","NodeList","HTMLCollection","document","querySelectorAll","Array","isArray","select","forEach","i","result","apply","classNames","classList","each","currentClassSet","getAttribute","currentClassList","className","indexOf","push","setAttribute","join","removedCounter","classIndex","splice","eventName","useCapture","addEventListener","detail","customData","event","params","customEvent","CustomEvent","cancelable","bubbles","dispatchEvent","currentSelection","newSelection","self","filterArg","add","matched","children","childrenEach","childNodes","child","nodeType","index","eq","htmlText","innerHTML","textData","textContent","fn","prototype","libs","handlers","isHistorySupported","history","pushState","cache","noTrigger","regex","pathname","routeparams","hashQuery","eventNames","routeChanged","hashchange","popstate","errorMessage","invalidPath","_arr","arr","slice","call","_resolveObject","testObject","_triggerRoute","route","eventType","isHashRoute","data","ref","routeOb","hash","router","events","trigger","_throwError","message","Error","_isValidRoute","sRoute","test","_resolveQueryString","qString","appendQString","location","search","replace","_getQueryParams","qsObject","deparam","hashStringParams","match","_validateRoute","_setRoute","oRoute","replaceMode","title","isHashString","routeMethod","queryString","appendQuery","charAt","_route","callback","filter","ob","originalHandler","element","bind","_sanitize","str","_matched","url","substring","lastIndex","pathRegex","RegExp","keys","values","shift","key","_routeTrigger","eventObject","_bindRouterEvents","$","on","e","type","init","settings","set","arguments","historySupported","jQuery"],"mappings":"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"}